# Roary Tool Documentation
### Overview
Roary is a fast pan-genome pipeline designed for bacterial genomes. It takes annotated genome assemblies in GFF format and calculates the pan-genome, which consists of the core and accessory genomes of a group of organisms. It identifies the gene presence/absence across multiple genomes, which is critical for pangenome analysis.

### Functionality
- **Purpose**: Calculate the pangenome from annotated assemblies in GFF format.
- **Input**: Annotated genomes in GFF format.
- **Output**: Gene presence/absence table and core-genome 

Roary can be installed via Conda or from source. Conda is the simplest way to install it:
```bash
# Install Roary via Conda
conda install -c bioconda roary

Alternatively, Roary can be installed from source:
# Install Roary from source
sudo apt-get install roary
```
### Usage Example
To calculate the pangenome for multiple annotated genomes:
```bash
# Run Roary on multiple GFF files
roary -e -n -v *.gff
This command will calculate the pangenome using the GFF files in the current directory. Key flags used:

-e: Create a multi-FASTA alignment of the core genome.
-n: Use a neighbor-joining tree for phylogenetic analysis.
-v: Verbose mode to output detailed progress.

Parameters
-i: Minimum percentage identity for BLASTP matches. Default is 95%.
-cd: Core definition percentage of isolates that a gene must be in to be classified as "core". Default is 99%.
-r: Recalculate clusters even if an existing clusters file is present.
-p: Number of threads to use for parallelization.
```

### Output Files
- gene_presence_absence.csv: A CSV file containing the gene presence/absence matrix across the genomes.
- pan_genome_reference.fa: A FASTA file with the pan-genome reference sequence.
- core_gene_alignment.aln: A multi-FASTA alignment of core genes.
- accessory_binary_genes.fa.newick: A Newick format tree based on accessory gene content.

### Performance
- **Speed** : Roary is highly optimized and can process hundreds of bacterial genomes quickly.
- **Resource Usage** : Roary uses BLASTP for pairwise comparisons, so memory and CPU usage scale with the number of genomes and the number of threads used.

### Notes
Roary requires GFF files generated by annotation tools like Prokka.
Ensure the GFF files are properly formatted and standardized for optimal results.
You can adjust the core definition percentage (-cd) depending on how strict you want the core genome definition to be.

### Issues/Challenges
Poorly annotated genomes or incomplete GFF files can lead to incorrect results in pangenome analysis.
Roary expects standard GFF formats, so ensure that your files comply with the format required.

### Link to Documentation
[Roary Documentation](https://sanger-pathogens.github.io/Roary/)
